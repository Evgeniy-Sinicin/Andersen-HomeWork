<html>

<head>
    <meta charset="utf-8">
    <title>HW #3. Weather</title>
</head>

<body>
    <!-- <div id="weather" style="width: 1000px; height: 500px;"></div> -->
    <input id="city" maxlength="25" size="20" value="">
    <button onclick="getCity();">Тык</button>
    <p>Location: <span id="location"></span></p>
    <p>Weather: <span id="weather"></span></p>
    <p>Temperature: <span id="temp"></span></p>
    <p>Wind Speed: <span id="wind"></span></p>
    <script>


        function getCity() {
            var cityName = document.getElementById("city").value;

            var xml = new XMLHttpRequest();
            xml.open("GET", "http://api.openweathermap.org/data/2.5/weather?q=" + cityName + "&APPID=d0a795441d5c7d4d04fe04fe36727f8f&units=metric", false);
            xml.send();

            var data = JSON.parse(xml.response);

            var city = JSON.stringify(data.name);
            var weather = data.weather[0].main;
            var temp = data.main.temp;
            var wind = data.wind.speed;


            document.getElementById("location").innerHTML = city;
            document.getElementById("weather").innerHTML = weather;
            document.getElementById("temp").innerHTML = temp;
            document.getElementById("wind").innerHTML = wind;
        }
    </script>
</body>

</html>
